{
	"info": {
		"_postman_id": "482f0d85-74de-4b4f-8589-0e4de80ab783",
		"name": "MedSync_API",
		"description": "### **üöÄ Bem-vindo ao Workspace da CludeMedSync API**\n\nEste workspace serve como um guia interativo para testar e entender todas as funcionalidades da nossa API de agendamento de consultas. Siga os passos abaixo para come√ßar.\n\n### **üîñ Como Utilizar Este Workspace**\n\n#### **Passo 1: Configurar as Vari√°veis de Ambiente**\n\nVari√°veis permitem que voc√™ reutilize valores, como a URL base da sua API, facilitando a troca entre ambientes (desenvolvimento, produ√ß√£o, etc.).\n\n1. No canto superior direito, clique no √≠cone de olho (\"Environment Quick Look\") e depois em **\"Add\"** para criar um novo ambiente. D√™ o nome de **\"CludeMedSync - Desenvolvimento\"**.\n    \n2. Adicione as seguintes vari√°veis:\n    \n    - **Vari√°vel:** `base_url`\n        \n        - **Valor Inicial:** `https://localhost:7235` (ou a porta HTTPS que sua API est√° usando)\n            \n    - **Vari√°vel:** `accessToken`\n        \n        - **Valor Inicial:** (deixe em branco)\n            \n3. Certifique-se de que o ambiente **\"CludeMedSync - Desenvolvimento\"** est√° selecionado no canto superior direito para que as vari√°veis funcionem.\n    \n\n#### **Passo 2: Autentica√ß√£o (Obter o Token JWT)**\n\nNossa API √© segura. Antes de acessar qualquer endpoint, voc√™ precisa se autenticar.\n\n1. **Abra a pasta** **`1. Autentica√ß√£o`**.\n    \n2. **Envie a requisi√ß√£o** **`POST /api/auth/register`**:\n    \n    - V√° para a aba **\"Body\"**.\n        \n    - Preencha com os dados de um novo usu√°rio.\n        \n    - Clique em **\"Send\"**. Voc√™ deve receber uma resposta de sucesso.\n        \n3. **Envie a requisi√ß√£o** **`POST /api/auth/login`**:\n    \n    - Use o mesmo e-mail e senha que voc√™ acabou de registrar.\n        \n    - Clique em **\"Send\"**.\n        \n    - Na resposta, voc√™ ver√° o `accessToken` e o `refreshToken`. A requisi√ß√£o j√° cont√©m um script na aba **\"Tests\"** que salva automaticamente o `accessToken` na sua vari√°vel de ambiente.\n        \n\n**Script de Teste (j√° inclu√≠do no request de Login):**\n\n```\n// Este script captura o token da resposta e o salva na vari√°vel 'accessToken'\nvar jsonData = pm.response.json();\nif (jsonData && jsonData.dados && jsonData.dados.accessToken) {\n    pm.environment.set(\"accessToken\", jsonData.dados.accessToken);\n    console.log(\"Access Token salvo com sucesso!\");\n}\n\n ```\n\n#### **Passo 3: Executar Opera√ß√µes CRUD (Pacientes, Profissionais, Consultas)**\n\nAgora que voc√™ est√° autenticado, pode interagir com os outros endpoints.\n\n1. **Abra a pasta** **`2. Pacientes`** (ou qualquer outra pasta de recurso).\n    \n2. **Selecione uma requisi√ß√£o**, por exemplo, `GET /api/pacientes`.\n    \n3. V√° para a aba **\"Authorization\"**. Note que ela j√° est√° configurada para usar o tipo **\"Bearer Token\"** e a vari√°vel `{{accessToken}}`.\n    \n4. Clique em **\"Send\"**. Voc√™ dever√° receber a lista de pacientes.\n    \n5. Para criar um novo paciente (`POST /api/pacientes`), v√° para a aba **\"Body\"** e preencha o JSON com os dados desejados.\n    \n\n**Exemplo de JSON para o Body de** **`POST /api/pacientes`****:**\n\n```\n{\n    \"nomeCompleto\": \"Carlos Andrade\",\n    \"dataNascimento\": \"1985-05-20T00:00:00\",\n    \"cpf\": \"98765432100\",\n    \"email\": \"carlos.andrade@email.com\",\n    \"telefone\": \"11911223344\"\n}\n\n ```\n\n#### **Passo 4: Adicionar e Verificar Testes**\n\nCada requisi√ß√£o deve ter testes b√°sicos para garantir que a API est√° se comportando como esperado.\n\n1. Em qualquer requisi√ß√£o, v√° para a aba **\"Tests\"**.\n    \n2. Voc√™ encontrar√° scripts simples, como este, que verifica se a resposta foi bem-sucedida:\n    \n\n**Exemplo de Teste para um request** **`GET`****:**\n\n```\npm.test(\"Status code √© 200 OK\", function () {\n    pm.response.to.have.status(200);\n});\n\n ```\n\n1. Ap√≥s enviar a requisi√ß√£o, observe a aba **\"Test Results\"** na resposta para ver se os testes passaram.\n    \n\n### **üí™ Dicas e Pr√≥ximos Passos**\n\n- **Organiza√ß√£o:** Use as pastas para manter a cole√ß√£o organizada por recurso.\n    \n- **Testes Avan√ßados:** Adicione mais testes para validar o conte√∫do da resposta, n√£o apenas o status.\n    \n- **Fluxo de Refresh Token:** Para um cen√°rio mais avan√ßado, crie uma requisi√ß√£o para a rota `/api/auth/refresh-token` para simular a renova√ß√£o de um `accessToken` expirado.\n    \n\nEndFragment",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "46451387"
	},
	"item": [
		{
			"name": "Consulta",
			"item": [
				{
					"name": "Consultas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Consultas?page=1&pageSize=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultas/log",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Consultas/log?page=1&pageSize=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas",
								"log"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultas/{id}",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Consultas/{{idConsulta}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas",
								"{{idConsulta}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultas/agendar",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"pacienteId\": {{idPaciente}},\r\n  \"profissionalId\": {{idProfissional}},\r\n  \"dataHoraInicio\": \"{{dataHoraInicio}}\",\r\n  \"motivo\": \"string\",\r\n  \"Observacao\": \"Observacao\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/Consultas/agendar",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas",
								"agendar"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultas/confirmar/{id}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/Consultas/confirmar/{{idConsulta}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas",
								"confirmar",
								"{{idConsulta}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultas/iniciar/{id}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Consultas/iniciar/{{idConsulta}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas",
								"iniciar",
								"{{idConsulta}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultas/finalizar/{id}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Consultas/finalizar/{{idConsulta}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas",
								"finalizar",
								"{{idConsulta}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultas/cancelar/{id}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Consultas/cancelar/{{idConsulta}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas",
								"cancelar",
								"{{idConsulta}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultas/paciente-nao-compareceu/{id}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Consultas/paciente-nao-compareceu/{{idConsulta}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas",
								"paciente-nao-compareceu",
								"{{idConsulta}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultas/profissional-nao-compareceu/{id}",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Consultas/profissional-nao-compareceu/{{idConsulta}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Consultas",
								"profissional-nao-compareceu",
								"{{idConsulta}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Paciente",
			"item": [
				{
					"name": "Pacientes",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Pacientes?page=1&pageSize=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Pacientes"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Pacientes/{id}",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/Pacientes/{{idPaciente}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Pacientes",
								"{{idPaciente}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Pacientes",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nomeCompleto\": \"Paciente X\",\r\n  \"dataNascimento\": \"2001-07-03T22:26:14.621Z\", \r\n  \"cpf\": \"45553564021\",                                \r\n  \"email\": \"eduardogdedeslibrX@gmail.com\",                         \r\n  \"telefone\": \"(11)15307-8189\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/Pacientes",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Pacientes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Pacientes/{id}",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nomeCompleto\": \"Paciente X\",\r\n  \"dataNascimento\": \"2001-07-03T22:26:14.621Z\", \r\n  \"cpf\": \"45553564034\",                                \r\n  \"email\": \"eduardoguedeslibra@gmail.com\",                         \r\n  \"telefone\": \"11999999999\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}api/Pacientes/{{idPaciente}}",
							"host": [
								"{{base_url}}api"
							],
							"path": [
								"Pacientes",
								"{{idPaciente}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Pacientes/{id}",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Pacientes/{{idPaciente}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Pacientes",
								"{{idPaciente}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Profissional",
			"item": [
				{
					"name": "Profissionais",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Profissionais?page=1&pageSize=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Profissionais"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "pageSize",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Profissionais/{id}",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Profissionais/{{idProfissional}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Profissionais",
								"{{idProfissional}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Profissionais",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nomeCompleto\": \"Profissional de Teste\",\r\n  \"especialidade\": \"teste\",\r\n  \"crm\": \"1234567891234567890\",\r\n  \"email\": \"profissional@gmail.com\",\r\n  \"telefone\": \"(11)15307-8189\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/Profissionais",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Profissionais"
							]
						}
					},
					"response": []
				},
				{
					"name": "Profissionais/{id}",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/Profissionais/{{idProfissional}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"Profissionais",
								"{{idProfissional}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Autenticac√£o",
			"item": [
				{
					"name": "Register",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"teste@gmail.com\",\r\n  \"password\": \"Teste@123\",\r\n  \"confirmPassword\": \"Teste@123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"teste@gmail.com\",\r\n  \"password\": \"Teste@123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "id",
			"value": "1"
		},
		{
			"key": "base_url",
			"value": "https://localhost:XXXX"
		}
	]
}